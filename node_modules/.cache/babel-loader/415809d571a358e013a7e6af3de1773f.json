{"ast":null,"code":"//import config from 'config';\nimport { authHeader } from '../helpers';\n\nfunction register(user) {\n  var requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  };\n  return fetch('/flowrspot-api.herokuapp.com/api/v1/users/register', requestOptions).then(handleResponse);\n}\n\nfunction logout() {\n  localStorage.removeItem('user');\n}\n\nfunction handleResponse(response) {\n  return response.text().then(function (text) {\n    var data = text && JSON.parse(text);\n\n    if (!response.ok) {\n      if (response.status === 401) {\n        logout(); //location.reload(true);\n      }\n\n      var error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}\n\nexport var userService = {\n  register: register,\n  logout: logout\n};","map":{"version":3,"sources":["/Users/emina/projects/PovioChallenge/src/services/user.js"],"names":["authHeader","register","user","requestOptions","method","headers","body","JSON","stringify","fetch","then","handleResponse","logout","localStorage","removeItem","response","text","data","parse","ok","status","error","message","statusText","Promise","reject","userService"],"mappings":"AAAA;AACA,SAASA,UAAT,QAA2B,YAA3B;;AAEA,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACpB,MAAMC,cAAc,GAAG;AACnBC,IAAAA,MAAM,EAAE,MADW;AAEnBC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFU;AAGnBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AAHa,GAAvB;AAMA,SAAOO,KAAK,CAAC,oDAAD,EAAuDN,cAAvD,CAAL,CAA4EO,IAA5E,CAAiFC,cAAjF,CAAP;AACH;;AAED,SAASC,MAAT,GAAkB;AACdC,EAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACH;;AAED,SAASH,cAAT,CAAwBI,QAAxB,EAAkC;AAC9B,SAAOA,QAAQ,CAACC,IAAT,GAAgBN,IAAhB,CAAqB,UAAAM,IAAI,EAAI;AAChC,QAAMC,IAAI,GAAGD,IAAI,IAAIT,IAAI,CAACW,KAAL,CAAWF,IAAX,CAArB;;AACA,QAAI,CAACD,QAAQ,CAACI,EAAd,EAAkB;AACd,UAAIJ,QAAQ,CAACK,MAAT,KAAoB,GAAxB,EAA6B;AACzBR,QAAAA,MAAM,GADmB,CAEzB;AACH;;AAED,UAAMS,KAAK,GAAIJ,IAAI,IAAIA,IAAI,CAACK,OAAd,IAA0BP,QAAQ,CAACQ,UAAjD;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH;;AAED,WAAOJ,IAAP;AACH,GAbM,CAAP;AAcH;;AAED,OAAO,IAAMS,WAAW,GAAG;AACvBzB,EAAAA,QAAQ,EAARA,QADuB;AAEvBW,EAAAA,MAAM,EAANA;AAFuB,CAApB","sourcesContent":["//import config from 'config';\nimport { authHeader } from '../helpers';\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n\n    return fetch('/flowrspot-api.herokuapp.com/api/v1/users/register', requestOptions).then(handleResponse);\n}\n\nfunction logout() {\n    localStorage.removeItem('user');\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                logout();\n                //location.reload(true);\n            }\n\n            const error = (data && data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n\n        return data;\n    });\n}\n\nexport const userService = {\n    register,\n    logout\n};\n"]},"metadata":{},"sourceType":"module"}